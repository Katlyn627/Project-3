{"version":3,"sources":["utils/mutations.js","utils/auth.js","components/LogInSignUp/LogInForm.jsx","components/LogInSignUp/SignUpForm.jsx","components/Home/home.jsx","components/ThoughtForm/thoughtForm.jsx","App.js","index.js"],"names":["LOGIN_USER","gql","ADD_USER","ADD_THOUGHT","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","LogInForm","useState","username","password","userFormData","setUserFormData","useMutation","login","error","data","validated","showAlert","setShowAlert","handleInputChange","event","target","name","value","useEffect","handleFormSubmit","a","preventDefault","console","log","variables","Auth","Form","noValidate","onSubmit","Alert","dismissible","onClose","show","variant","Group","Label","htmlFor","Control","type","placeholder","onChange","email","required","Feedback","Button","disabled","SignupForm","addUser","form","currentTarget","checkValidity","stopPropagation","to","HomePage","renderForm","setRenderForm","renderFormHandler","page","SignUpForm","id","src","alt","onClick","ThoughtForm","thoughtText","thoughtAuthor","thoughtFormData","setThoughtFormData","addThought","className","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","component","Home","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.69cc540a.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN_USER = gql`\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n      user {\r\n      _id\r\n        username,\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser($username: String!, $email: String!, $password: String!) {\r\n    addUser(username: $username, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_THOUGHT = gql`\r\n  mutation addThought($thoughtText: String!) {\r\n    addThought(thoughtText: $thoughtText) {\r\n      _id\r\n      thoughtText\r\n      thoughtAuthor\r\n      createdAt\r\n    }\r\n  }\r\n`;","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    const token = this.getToken();\r\n    return !!token && !this.isTokenExpired(token); // handwaiving here\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) {\r\n        return true;\r\n      } else return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken() {\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    localStorage.setItem('id_token', idToken);\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('id_token');\r\n    window.location.assign('/');\r\n  }\r\n};\r\n\r\nexport default new AuthService();","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button, Alert } from 'react-bootstrap';\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { LOGIN_USER } from \"../../utils/mutations\";\r\nimport \"./LogInSignUp.css\";\r\nimport Auth from \"../../utils/auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst LogInForm = () => {\r\n  const [userFormData, setUserFormData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  // re pushing to fix issues\r\n\r\n\r\n  const [login, { error, data }] = useMutation(LOGIN_USER);\r\n  const [validated] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUserFormData({ ...userFormData, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    error ? setShowAlert(true) : setShowAlert(false);\r\n  }, [error]);\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    console.log(\"handleFormsubmit\");\r\n\r\n    try {\r\n      const { data } = await login({ variables: { ...userFormData } });\r\n      console.log(data);\r\n      Auth.login(data.login.token);\r\n      window.location.assign(\"/home\");\r\n    } catch (err) {\r\n      console.log(\"I have an error\");\r\n      console.error(err);\r\n    }\r\n\r\n    setUserFormData({\r\n      username: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\r\n        <Alert\r\n          dismissible\r\n          onClose={() => setShowAlert(false)}\r\n          show={showAlert}\r\n          variant=\"danger\"\r\n        >\r\n          Something went wrong with your login credentials!\r\n        </Alert>\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Your email\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.email}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Email is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Your password\"\r\n            name=\"password\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.password}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Password is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Button\r\n          disabled={!(userFormData.email && userFormData.password)}\r\n          type=\"submit\"\r\n          variant=\"success\"\r\n        >\r\n          Submit\r\n        </Button>\r\n        <Link>Login</Link>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LogInForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Button, Alert } from 'react-bootstrap';\r\nimport { useMutation } from '@apollo/client';\r\nimport { ADD_USER } from '../../utils/mutations';\r\nimport Auth from '../../utils/auth';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SignupForm = () => {\r\n  // set initial form state\r\n  const [userFormData, setUserFormData] = useState({ \r\n    username: '', \r\n    email: '', \r\n    password: '' \r\n  });\r\n\r\n  // set state for form validation\r\n  const [validated] = useState(false);\r\n  // set state for alert\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  // eslint-disable-next-line\r\n  const [addUser, { error, data }] = useMutation(ADD_USER);\r\n\r\n  console.log(\"----error---\")\r\n  // console.log(error);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setShowAlert(true);\r\n    } else {\r\n      setShowAlert(false);\r\n    }\r\n  }, [error]);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setUserFormData({\r\n      ...userFormData,\r\n      [name]: value \r\n    });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // check if form has everything (as per react-bootstrap docs)\r\n    const form = event.currentTarget;\r\n    console.log(\"-------------------- handleFormSubmit in Signup Form -----------------\");\r\n    if (form.checkValidity() === false) {\r\n      console.log(\"----- check Valid is false -----\")\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n\r\n    try {\r\n      console.log(\"##### about to call addUser mutation ###\")\r\n      const { data } = await addUser({\r\n        variables: { ...userFormData },\r\n      });\r\n\r\n      console.log(\"########## fetched data returned\");\r\n      console.error(data)\r\n\r\n      Auth.login(data.addUser.token);\r\n    } catch (err) {\r\n      console.log(\"##### error!\")\r\n      console.error(err);\r\n    }\r\n\r\n    setUserFormData({\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* This is needed for the validation functionality above */}\r\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\r\n        {/* show alert if server response is bad */}\r\n        <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant='danger'>\r\n          Something went wrong with your signup!\r\n        </Alert>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor='username'>Username</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Your username'\r\n            name='username'\r\n            onChange={handleInputChange}\r\n            value={userFormData.username}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type='invalid'>Username is required!</Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor='email'>Email</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='Your email address'\r\n            name='email'\r\n            onChange={handleInputChange}\r\n            value={userFormData.email}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type='invalid'>Email is required!</Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor='password'>Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Your password'\r\n            name='password'\r\n            onChange={handleInputChange}\r\n            value={userFormData.password}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type='invalid'>Password is required!</Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Button\r\n          disabled={!(userFormData.username && userFormData.email && userFormData.password)}\r\n          type='submit'\r\n          variant='success'>\r\n          Submit\r\n        </Button>\r\n        <Link to=\"/signup\">Sign Up</Link>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignupForm;","import React, { useState, useEffect, Component } from \"react\";\r\nimport LogInForm from \"../LogInSignUp/LogInForm\";\r\nimport SignUpForm from \"../LogInSignUp/SignUpForm\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Home.css\";\r\n\r\n// Joana's code starts here\r\n\r\n// class Home extends Component {\r\n//   render() {\r\n//     return{\r\n\r\n//     }\r\n//   }\r\n// }\r\n\r\nconst HomePage = () => {\r\n  const [renderForm, setRenderForm] = useState(\"home\");\r\n\r\n  const renderFormHandler = (page) => {\r\n    setRenderForm(page);\r\n  };\r\n\r\n  const renderPage = () => {\r\n    if (renderForm === \"signup\") {\r\n      return (\r\n        <SignUpForm renderForm={renderForm} setRenderForm={setRenderForm} />\r\n      );\r\n    } else if (renderForm === \"login\") {\r\n      return (\r\n        <LogInForm renderForm={renderForm} setRenderForm={setRenderForm} />\r\n      );\r\n    } else if (renderForm === \"dashboard\") {\r\n      return (\r\n        <h1>DASHBOARD HEREEEEE</h1>\r\n        // <Dashboard renderForm={renderForm} setRenderForm={setRenderForm} />\r\n      );\r\n    } else if (renderForm === \"home\") {\r\n      return (\r\n        <>\r\n          <div id=\"main-home-container\">\r\n            <div id=\"home-container\">\r\n              <div>\r\n                <div id=\"home-logo\">\r\n                  <img src=\"../img/logowithwords.png\" alt=\"logo\"></img>\r\n                </div>\r\n              </div>\r\n\r\n              <p>Sike to Hike!</p>\r\n            </div>\r\n            <div id=\"home-login-buttons\">\r\n              <Link to=\"/login\">LogIn</Link>\r\n              <button\r\n                id=\"login-button\"\r\n                onClick={() => renderFormHandler(\"login\")}\r\n              >\r\n                Get Hiking\r\n              </button>\r\n              <button\r\n                id=\"signup-button\"\r\n                onClick={() => renderFormHandler(\"signup\")}\r\n              >\r\n                Sign In Instead\r\n              </button>\r\n              <p>\r\n                You need to be logged in to participate. Please{\" \"}\r\n                <Link to=\"/login\">login</Link> or{\" \"}\r\n                <Link to=\"/signup\">signup.</Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n  return renderPage();\r\n};\r\nexport default HomePage;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useMutation } from \"@apollo/client\";\r\n\r\nimport { ADD_THOUGHT } from \"../../utils/mutations\";\r\n// import { QUERY_THOUGHTS, QUERY_ME } from \"../../utils/queries\";\r\n\r\n// import Auth from \"../../utils/auth\";\r\n\r\nconst ThoughtForm = () => {\r\n  const [thoughtFormData, setThoughtFormData] = useState({\r\n    thoughtText: \"\",\r\n    thoughtAuthor: \"\",\r\n  });\r\n  const [addThought, { error }] = useMutation(ADD_THOUGHT);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setThoughtFormData({ ...thoughtFormData, [name]: value });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const { data } = await addThought({\r\n        variables: { ...thoughtFormData },\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setThoughtFormData({\r\n      thoughtText: \"\",\r\n      thoughtAuthor: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <h3>NEW HIKE POST FORM FORM GOES HERE</h3>\r\n\r\n        <form className=\"\" onSubmit={handleFormSubmit}>\r\n          <div className=\"newHike\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter a title for your post\"\r\n              name=\"title\"\r\n              onChange={handleInputChange}\r\n              value={thoughtFormData.username}\r\n            />\r\n          </div>\r\n          <div className=\"post\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Your thoughts on this hike\"\r\n              name=\"body\"\r\n              onChange={handleInputChange}\r\n              value={thoughtFormData.password}\r\n            />\r\n          </div>\r\n          <button className=\"submitButton\" type=\"submit\">\r\n            Submit Post\r\n          </button>\r\n          {error && <div className=\"\">Something went wrong...</div>}\r\n        </form>\r\n      </div>\r\n      <p>\r\n        If you're not signed up yet, create an account. Please{\" \"}\r\n        <Link to=\"/signup\">SignUp</Link>\r\n      </p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ThoughtForm;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport {\r\n    ApolloClient,\r\n    InMemoryCache,\r\n    ApolloProvider,\r\n    createHttpLink,\r\n} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\n\r\n// IMPORT COMPONENTS HERE!!!\r\n\r\nimport Header from './components/Header/Header.jsx';\r\n\r\n// import CommentForm from './components/CommentForm/Comment';\r\n// import CommentList from './components/CommentList/List';\r\n// import HikeForm from './components/HikeForm/Hike';\r\nimport Home from './components/Home/home'\r\n// import Dashboard from './components/Dashboard/dashboard'\r\nimport LogInForm from './components/LogInSignUp/LogInForm';\r\nimport SignUpForm from './components/LogInSignUp/SignUpForm';\r\nimport ThoughtForm from './components/ThoughtForm/thoughtForm';\r\n\r\n\r\nconst httpLink = createHttpLink({\r\n    uri: '/graphql',\r\n});\r\n\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n\r\n    const token = localStorage.getItem('id_token');\r\n\r\n    return {\r\n        headers: {\r\n            ...headers,\r\n            authorization: token ? `Bearer ${token}` : '',\r\n        },\r\n    };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n    link: authLink.concat(httpLink),\r\n    cache: new InMemoryCache(),\r\n});\r\n\r\n\r\n/// ADD ROUTES TO ALL COMPONENTS HERE\r\nfunction App() {\r\n    return (\r\n        <ApolloProvider client={client}>\r\n\r\n            <Router>\r\n                <div>\r\n                    {/* <Header /> */}\r\n                    <Switch>\r\n\r\n\r\n                        <Route exact path='/' component={Home} />\r\n                        <Route exact path='/login' component={LogInForm} />\r\n                        <Route exact path='/signup' component={SignUpForm} />\r\n                        <Route exact path='/thoughts' component={ThoughtForm} />\r\n                    </Switch>\r\n                </div>\r\n\r\n\r\n            </Router>\r\n\r\n        </ApolloProvider >\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}